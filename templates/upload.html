<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Upload Your Resume</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #f0f4f8, #d9e4ec); display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; margin: 0; color: #333; }
        .upload-container { background: #ffffff; padding: 40px 30px; border-radius: 14px; width: 90%; max-width: 420px; text-align: center; box-shadow: 0 8px
        25px rgba(0, 0, 0, 0.1); }
        .upload-container img { width: 100px; margin-bottom: 15px; }
        .upload-container h2 { font-size: 24px; margin-bottom: 20px; color: #222; }
        .drop-area { border: 2px dashed #0073bb; padding: 30px; border-radius: 10px; cursor: pointer; transition: background 0.3s; margin-top: 15px; background: #f9fcff; }
        .drop-area.dragover { background: #eaf5ff; }
        .drop-area i { font-size: 40px; color: #0073bb; margin-bottom: 10px; }
        input[type="file"] { display: none; }
        #fileName { margin-top: 10px; font-size: 14px; color: #555; font-style: italic; min-height: 20px; }
        button { margin-top: 20px; padding: 12px 25px; background: #ff9900; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.2s ease; }
        button:hover { transform: scale(1.05); background: #e68a00; }
        .messages { list-style: none; padding: 0; margin-top: 20px; }
        .messages li { padding: 10px; border-radius: 5px; margin-bottom: 10px; font-weight: 500; }
        .messages .success { background-color: #d4edda; color: #155724; }
        .messages .danger { background-color: #f8d7da; color: #721c24; }
        .messages .warning { background-color: #fff3cd; color: #856404; }
        .admin-login { position: absolute; top: 15px; right: 20px; font-size: 14px; }
        .admin-login a { color: #555; text-decoration: none; font-weight: 600; }
        .admin-login a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="admin-login">
        <a href="{{ url_for('login') }}">Admin Login</a>
    </div>

    <div class="upload-container">
        <img src="https://upload.wikimedia.org/wikipedia/commons/9/93/Amazon_Web_Services_Logo.svg" alt="AWS Logo"/>
        <h2>Upload Your Resume</h2>
        <p style="font-size:14px; color: #555; margin-top:-10px; margin-bottom:20px;">Please upload your resume in PDF format.</p>

        <form id="uploadForm" action="{{ url_for('upload_page') }}" method="post" enctype="multipart/form-data">
            <div class="drop-area" id="dropArea">
                <i class="fa-solid fa-cloud-arrow-up"></i>
                <p>Drag & Drop your PDF here</p>
                <p>or <strong>Click to Select</strong></p>
                <input type="file" name="resume" id="fileInput" accept=".pdf" required />
                <div id="fileName"></div>
            </div>
            <button type="submit">Upload Resume</button>
        </form>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="messages">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </div>

    <script>
        const dropArea = document.getElementById('dropArea');
        const fileInput = document.getElementById('fileInput');
        const fileName = document.getElementById('fileName');
        dropArea.addEventListener('click', () => fileInput.click());
        dropArea.addEventListener('dragover', (e) => { e.preventDefault(); dropArea.classList.add('dragover'); });
        dropArea.addEventListener('dragleave', () => dropArea.classList.remove('dragover'));
        dropArea.addEventListener('drop', (e) => { e.preventDefault(); dropArea.classList.remove('dragover'); fileInput.files = e.dataTransfer.files; displayFileName(fileInput.files[0]); });
        fileInput.addEventListener('change', () => { if (fileInput.files.length > 0) { displayFileName(fileInput.files[0]); }});
        function displayFileName(file) { fileName.textContent = file ? `Selected: ${file.name}` : ""; }
    </script>
</body>
</html>